# Deliveries report bot
***
Телеграмм бот, представляющий отчеты по доставкам с фильтрацией по сотрудникам/магазинам
## Функционал:
1. Формирование отчета по сотруднику за диапазон дат
2. Формирование отчета по магазину за диапазон дат
3. Синхронизация данных с google sheets
4. Определение id группы, в которую добавлен бот
## Команды:
- /id - отправляется в диалог, в котором участвует бот, определяет его id;
- /update - обновляет информацию о сотрудниках, магазинах и администраторах, основываясь на google sheets;
- /employee <имя сотрудника> <дата начала формирования очтета> <дата окончания формирования отчета> - даты в формате дд.мм.гг, формирует отчет по сотрудникам;
- /shop <название магазина> <дата начала формирования очтета> <дата окончания формирования отчета> - даты в формате дд.мм.гг, формирует отчет по сотрудникам;
- /done <адрес> - фиксирует доставку от зарегистрированного сотрудника, из зарегистрированного магазина
## Установка и использование:
- В файле config.py содержатся переменные с именем таблицы и названиями листов, из которых берутся данные
- Создайте файл .env, содержащий следующие переменные:
> файл создается в корневой папке проекта
  - в файле указать токен телеграмм бота:\
  **TELEGRAM_TOKEN**=ТОКЕН
  - в **MANAGER_ID** указан ID пользователя, который обладает всеми правами, независимо от данных в google sheets
> Для определения ID пользователя нужно отправить следующему [боту](https://t.me/getmyid_bot) любое сообщение с соответствующего аккаунта. Значение, содержащееся в **Your user ID** - ID пользователя
- Установить виртуальное окружение и активировать его (при необходимости):
> Установка и активация в корневой папке проекта
```sh
python3 -m venv venv
source venv/bin/activate # for macOS
source venv/Scripts/activate # for Windows
```
- Установить зависимости:
```sh
pip install -r requirements.txt
```
- Запустить проект:
```sh
python3 main.py
```
